{"version":3,"file":"12.chunk.js","sources":["webpack:///E:/Christopher Hoyos/Projects/samy-app/src/app/inventario/historial/historial.module.ts?c9e0","webpack:///E:/Christopher Hoyos/Projects/samy-app/src/app/shared/utils.ts?28bb****","webpack:///E:/Christopher Hoyos/Projects/samy-app/src/app/inventario/historial/historial-lista/historial-lista.component.ts?f56f","webpack:///E:/Christopher Hoyos/Projects/samy-app/src/app/inventario/historial/historial.component.ts?5948","webpack:///E:/Christopher Hoyos/Projects/samy-app/src/app/inventario/historial/historial-routing.module.ts?6de1","webpack:///E:/Christopher Hoyos/Projects/samy-app/src/app/inventario/historial/historial-lista/historial-lista.component.html?d31e"],"sourcesContent":["import {NgModule} from \"@angular/core\";\r\nimport {CommonModule} from \"@angular/common\";\r\nimport {ReactiveFormsModule} from \"@angular/forms\";\r\n\r\nimport {HistorialRoutingModule} from \"./historial-routing.module\";\r\n\r\nimport {HistorialComponent} from \"./historial.component\";\r\nimport {HistorialListaComponent} from \"./historial-lista/historial-lista.component\";\r\n\r\n@NgModule({\r\n    imports: [CommonModule, ReactiveFormsModule, HistorialRoutingModule],\r\n    declarations: [\r\n        HistorialComponent,\r\n        HistorialListaComponent\r\n    ]\r\n})\r\nexport default class HistorialModule {}\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!E:/Christopher Hoyos/Projects/samy-app/src/app/inventario/historial/historial.module.ts","export class Utils {\r\n\r\n    static queryParameters(filters : {}, name : string = 'filters') : string\r\n    {\r\n        let filter = [];\r\n        for(let key in filters) {\r\n            filter.push(name+\"[\"+key+\"]=\"+filters[key])\r\n        }\r\n\r\n        return filter.join(\"&\");\r\n    }\r\n\r\n    static searchCollectionBy( key : string, collection : any[], term : any ) {\r\n        if( collection == null ) return [];\r\n\r\n        return [\r\n            ...collection.filter( item => {\r\n                if(key in item) {\r\n                    return item[key] == term;\r\n                }\r\n                return false;\r\n            })\r\n        ]\r\n    }\r\n\r\n    static searchCollectionNotEquals( key : string, collection : any[], term : any ) {\r\n        if( collection == null ) return [];\r\n\r\n        return [\r\n            ...collection.filter( item => {\r\n                if(key in item) {\r\n                    return item[key] != term;\r\n                }\r\n                return false;\r\n            })\r\n        ]\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!E:/Christopher Hoyos/Projects/samy-app/src/app/shared/utils.ts","import {Component} from \"@angular/core\";\r\nimport {Router, ActivatedRoute} from \"@angular/router\";\r\n\r\nimport {ApiService} from \"../../../shared/services/api.service\";\r\nimport {FormController} from \"../../../shared/FormController\";\r\nimport {FormBuilder} from \"@angular/forms\";\r\nimport {Utils} from \"../../../shared/utils\";\r\nimport {IBodega} from \"../../../shared/interfaces/Administracion/IBodega\";\r\nimport {IMaterial} from \"../../../shared/interfaces/Administracion/IMaterial\";\r\nimport {IMovimientoMaterial} from \"../../../shared/interfaces/Inventario/IMovimientoMaterial\";\r\n\r\n@Component({\r\n    selector : 'app-historial-lista',\r\n    template: require('./historial-lista.component.html')\r\n})\r\nexport class HistorialListaComponent extends FormController {\r\n\r\n    bodegas : IBodega[];\r\n    materiales: IMaterial[];\r\n    historial : IMovimientoMaterial[];\r\n\r\n    constructor( private route : ActivatedRoute,\r\n                 private _api : ApiService,\r\n                 public router : Router,\r\n                 formBuilder : FormBuilder)\r\n    {\r\n        super(formBuilder);\r\n    }\r\n\r\n    ngOnInit()\r\n    {\r\n\r\n        this.addControl('bodega', null);\r\n        this.addControl('material', null);\r\n        this.addControl('desde', null);\r\n        this.addControl('hasta', null);\r\n        this.addControl('limit', null);\r\n\r\n        let filters = { active : true };\r\n        this.subscribeResource('bodegas', this._api.get('/administracion/bodegas?' + Utils.queryParameters(filters)));\r\n        this.subscribeResource('materiales', this._api.get('/administracion/materiales?' + Utils.queryParameters(filters)));\r\n        this.route.params.subscribe( params => {\r\n            let materialId  = params['material'];\r\n            let bodegaId = params['bodega'];\r\n\r\n        })\r\n    }\r\n\r\n    submit() : void\r\n    {\r\n        this.toggleForm();\r\n        let values = this.form.value;\r\n        let filters = {};\r\n        if( values.bodega !== null ) filters['bodega.id'] = values.bodega;\r\n        if( values.material !== null ) filters['material.id'] = values.material;\r\n\r\n        let range = {};\r\n        if( values.desde !== null && values.desde !== \"\" ) range['desde'] = values.desde;\r\n        if( values.hasta !== null && values.hasta !== \"\" ) range['hasta'] = values.hasta;\r\n\r\n\r\n        let uri = \"/inventario/historial/?\" + Utils.queryParameters(filters) + \"&\" + Utils.queryParameters(range, 'range');\r\n        this.subscribeResource('historial', this._api.get(uri), true, null, () => this.toggleForm() );\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!E:/Christopher Hoyos/Projects/samy-app/src/app/inventario/historial/historial-lista/historial-lista.component.ts","import {Component} from \"@angular/core\";\r\nimport {DashboardService} from \"../../shared/services/dashboard.service\";\r\n\r\n@Component({\r\n    selector : 'app-historial',\r\n    template: `<router-outlet></router-outlet>`\r\n})\r\nexport class HistorialComponent\r\n{\r\n    constructor(private headerService :  DashboardService)\r\n    {}\r\n\r\n    ngOnInit() : void\r\n    {\r\n        this.headerService.setHeader(\"inventario\", \"Historial Inventario\", [])\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!E:/Christopher Hoyos/Projects/samy-app/src/app/inventario/historial/historial.component.ts","import {NgModule} from \"@angular/core\";\r\nimport {RouterModule, Routes} from \"@angular/router\";\r\n\r\nimport {HistorialListaComponent} from \"./historial-lista/historial-lista.component\";\r\n\r\nconst routes : Routes = [\r\n    { path : \"\" , component: HistorialListaComponent },\r\n];\r\n\r\n@NgModule({\r\n    imports : [RouterModule.forChild(routes)],\r\n    exports : [RouterModule]\r\n})\r\nexport class HistorialRoutingModule {}\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!E:/Christopher Hoyos/Projects/samy-app/src/app/inventario/historial/historial-routing.module.ts","module.exports = \"<div class=\\\"content-block\\\">\\r\\n    <div class=\\\"card\\\">\\r\\n        <div class=\\\"card-block\\\">\\r\\n            <form [formGroup]=\\\"form\\\">\\r\\n                <fieldset [disabled]=\\\"isFormDisabled()\\\">\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-sm-3\\\">\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label for=\\\"bodegas\\\" class=\\\"form-control-label\\\">Bodega</label>\\r\\n                                <select class=\\\"form-control\\\" id=\\\"bodegas\\\" formControlName=\\\"bodega\\\">\\r\\n                                    <option *ngFor=\\\"let bodega of bodegas\\\" [value]=\\\"bodega.id\\\">{{ bodega.nombre}} (#{{ bodega.codigo}})</option>\\r\\n                                </select>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-3\\\">\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label for=\\\"materiales\\\" class=\\\"form-control-label\\\">Material</label>\\r\\n                                <select class=\\\"form-control\\\" id=\\\"materiales\\\" formControlName=\\\"material\\\">\\r\\n                                    <option *ngFor=\\\"let material of materiales\\\" [value]=\\\"material.id\\\">{{ material.nombre}} (#{{ material.codigo}})</option>\\r\\n                                </select>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-3\\\">\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label for=\\\"desde\\\" class=\\\"form-control-label\\\">Desde</label>\\r\\n                                <input type=\\\"date\\\" class=\\\"form-control\\\" id=\\\"desde\\\" formControlName=\\\"desde\\\" />\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-3\\\">\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label for=\\\"hasta\\\" class=\\\"form-control-label\\\">Hasta</label>\\r\\n                                <input type=\\\"date\\\" class=\\\"form-control\\\" id=\\\"hasta\\\" formControlName=\\\"hasta\\\" />\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <fieldset class=\\\"form-inline\\\">\\r\\n                            <div class=\\\"col-sm-12 text-sm-right\\\">\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                    <label for=\\\"limit\\\" class=\\\"form-control-label\\\">Mostrar</label>\\r\\n                                    <input type=\\\"number\\\" size=\\\"3\\\" class=\\\"form-control\\\" id=\\\"limit\\\" formControlName=\\\"limit\\\" />\\r\\n                                </div>\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                    <button (click)=\\\"submit()\\\"><i class=\\\"fa fa-fw fa-search\\\"></i> Buscar</button>\\r\\n                                    <button (click)=\\\"resetForm()\\\"><i class=\\\"fa fa-circle-o\\\"></i></button>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </fieldset>\\r\\n                    </div>\\r\\n                </fieldset>\\r\\n            </form>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<table class=\\\"table table-bordered table-hover\\\">\\r\\n    <thead>\\r\\n    <tr>\\r\\n        <th rowspan=\\\"2\\\" width=\\\"1\\\">#</th>\\r\\n        <th rowspan=\\\"2\\\">Fecha</th>\\r\\n        <th rowspan=\\\"2\\\">Detalle</th>\\r\\n        <th colspan=\\\"2\\\" class=\\\"thead-expand-title\\\">Bodega</th>\\r\\n        <th colspan=\\\"3\\\" class=\\\"thead-expand-title\\\">Material</th>\\r\\n        <th rowspan=\\\"2\\\">Previo</th>\\r\\n        <th rowspan=\\\"2\\\">Movimiento</th>\\r\\n        <th rowspan=\\\"2\\\">Saldo</th>\\r\\n    </tr>\\r\\n    <tr class=\\\"thead-expand\\\">\\r\\n        <th>Codigo</th>\\r\\n        <th>Nombre</th>\\r\\n        <th>Codigo</th>\\r\\n        <th>Categoria</th>\\r\\n        <th>Nombre</th>\\r\\n    </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n    <tr *ngFor=\\\"let historia of historial; let i = index\\\">\\r\\n        <td>{{ i + 1 }}</td>\\r\\n        <td>{{ historia.created | date }}</td>\\r\\n        <td>\\r\\n            <a [routerLink]=\\\"['../../../movimientos/view', historia.movimiento.id]\\\">\\r\\n                {{ historia.accion ? \\\"Ingreso\\\" : \\\"Egreso\\\" }}<i class=\\\"fa fa-fw fa-angle-double-right\\\"></i>{{ historia.movimiento.detalle.documento }}\\r\\n            </a>\\r\\n        </td>\\r\\n        <td><code>{{ historia.bodega.codigo }}</code></td>\\r\\n        <td>{{ historia.bodega.nombre }}</td>\\r\\n        <td><code>{{ historia.material.codigo }}</code></td>\\r\\n        <td>{{ historia.material.categoria.nombre }}</td>\\r\\n        <td>{{ historia.material.nombre }}</td>\\r\\n        <td class=\\\"text-xs-right\\\">{{ historia.existente }}</td>\\r\\n        <td class=\\\"text-xs-right\\\" [ngClass]=\\\"{'text-danger': !historia.accion}\\\">\\r\\n            {{ historia.accion ? \\\"+\\\" : \\\"-\\\"}}{{ historia.cantidad }}\\r\\n        </td>\\r\\n        <td class=\\\"text-xs-right\\\">\\r\\n            <span *ngIf=\\\"historia.accion\\\">{{ historia.existente + historia.cantidad }}</span>\\r\\n            <span *ngIf=\\\"!historia.accion\\\">{{ historia.existente - historia.cantidad }}</span>\\r\\n        </td>\\r\\n    </tr>\\r\\n    </tbody>\\r\\n\\r\\n</table>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// E:/Christopher Hoyos/Projects/samy-app/src/app/inventario/historial/historial-lista/historial-lista.component.html\n// module id = 1106\n// module chunks = 1 12"],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AAEA;AACA;AASA;AAAA;AAAA;AAPA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAAA;AACA;AAAA;AAAA;;;;;;;;;;;;;;;AChBA;AAAA;AAsCA;AApCA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;ACtCA;AACA;AAEA;AACA;AACA;AACA;AASA;AAAA;AAMA;AAKA;AALA;AACA;AACA;AAIA;AAEA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AApDA;AAAA;AACA;AACA;AACA;;AAAA;AAkDA;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;AChEA;AACA;AAMA;AAEA;AAAA;AACA;AAEA;AAEA;AACA;AAZA;AAAA;AACA;AACA;AACA;;AAAA;AAUA;;AAAA;;;;;;;;;;;;;;;;;;;;;AChBA;AACA;AAEA;AAEA;AACA;AACA;AAMA;AAAA;AAAA;AAJA;AAAA;AACA;AACA;AACA;;AAAA;AACA;AAAA;;;;;;;;;;;;ACbA;;;;","sourceRoot":""}